@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --color-primary: 14 165 233;
    --color-accent: 6 182 212;
    --accent-color: #0ea5e9;
    --accent-color-rgb: 14, 165, 233;
  }

  /* Dynamic accent colors for primary classes */
  .text-primary-400 { color: var(--accent-color, #38bdf8) !important; }
  .text-primary-500 { color: var(--accent-color, #0ea5e9) !important; }
  .bg-primary-500 { background-color: var(--accent-color, #0ea5e9) !important; }
  .border-primary-500 { border-color: var(--accent-color, #0ea5e9) !important; }
  .ring-primary-500\/50 { --tw-ring-color: rgba(var(--accent-color-rgb, 14, 165, 233), 0.5) !important; }
  .shadow-primary-500\/25 { --tw-shadow-color: rgba(var(--accent-color-rgb, 14, 165, 233), 0.25) !important; }

  /* Dark mode (default) */
  body, .dark body {
    @apply bg-dark-900 text-dark-100 font-sans antialiased;
    overflow: hidden;
    user-select: none;
  }

  /* Light mode */
  .light body {
    @apply bg-gray-100 text-gray-900 font-sans antialiased;
    overflow: hidden;
    user-select: none;
  }

  .light .glass-panel {
    @apply bg-white/80 backdrop-blur-sm border border-gray-200 rounded-xl;
  }

  .light .glass-panel-solid {
    @apply bg-white border border-gray-200 rounded-xl;
  }

  .light .card {
    @apply bg-white border border-gray-200 rounded-xl p-6 shadow-sm;
  }

  .light .nav-item {
    @apply text-gray-500 hover:text-gray-900 hover:bg-gray-100;
  }

  .light .nav-item.active {
    @apply text-sky-600 bg-sky-50 border-l-2 border-sky-500;
  }

  .light .input {
    @apply bg-white border-gray-300 text-gray-900 placeholder-gray-400;
  }

  .light .btn-secondary {
    @apply bg-gray-100 text-gray-900 hover:bg-gray-200 border-gray-300;
  }

  .light .btn-ghost {
    @apply text-gray-500 hover:text-gray-900 hover:bg-gray-100;
  }

  .light ::-webkit-scrollbar-track {
    @apply bg-gray-100;
  }

  .light ::-webkit-scrollbar-thumb {
    @apply bg-gray-300 rounded-full;
  }

  .light ::-webkit-scrollbar-thumb:hover {
    @apply bg-gray-400;
  }

  /* Light mode color overrides - use !important to override Tailwind utilities */
  .light .text-dark-100 { color: rgb(17 24 39) !important; }
  .light .text-dark-200 { color: rgb(31 41 55) !important; }
  .light .text-dark-300 { color: rgb(55 65 81) !important; }
  .light .text-dark-400 { color: rgb(75 85 99) !important; }
  .light .text-dark-500 { color: rgb(107 114 128) !important; }
  .light .bg-dark-600 { background-color: rgb(209 213 219) !important; }
  .light .bg-dark-700 { background-color: rgb(229 231 235) !important; }
  .light .bg-dark-800 { background-color: rgb(243 244 246) !important; }
  .light .bg-dark-850 { background-color: rgb(243 244 246) !important; }
  .light .bg-dark-900 { background-color: rgb(249 250 251) !important; }
  .light .bg-dark-900\/95 { background-color: rgb(249 250 251 / 0.95) !important; }
  .light .border-dark-600 { border-color: rgb(209 213 219) !important; }
  .light .border-dark-700 { border-color: rgb(229 231 235) !important; }
  .light .border-dark-800 { border-color: rgb(229 231 235) !important; }
  .light .hover\:bg-dark-700:hover { background-color: rgb(229 231 235) !important; }
  .light .hover\:bg-dark-600:hover { background-color: rgb(209 213 219) !important; }
  .light .hover\:bg-dark-700\/50:hover { background-color: rgb(229 231 235 / 0.5) !important; }
  .light .hover\:text-dark-100:hover { color: rgb(17 24 39) !important; }
  .light .hover\:text-dark-300:hover { color: rgb(55 65 81) !important; }
  .light .bg-dark-800\/50 { background-color: rgb(243 244 246 / 0.5) !important; }
  .light .border-dark-700\/50 { border-color: rgb(229 231 235 / 0.5) !important; }
  .light .bg-dark-700\/50 { background-color: rgb(229 231 235 / 0.5) !important; }
  .light .bg-dark-700\/30 { background-color: rgb(229 231 235 / 0.3) !important; }

  /* Accent color support via CSS variables */
  .light .text-primary-400 { color: var(--accent-color, #0ea5e9); }
  .light .text-primary-500 { color: var(--accent-color, #0ea5e9); }
  .light .bg-primary-500 { background-color: var(--accent-color, #0ea5e9); }
  .light .bg-primary-500\/10 { background-color: rgba(var(--accent-color-rgb, 14, 165, 233), 0.1); }
  .light .border-primary-500 { border-color: var(--accent-color, #0ea5e9); }

  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-dark-800;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-dark-600 rounded-full;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-dark-500;
  }
}

@layer components {
  .glass-panel {
    @apply bg-dark-800/50 backdrop-blur-sm border border-dark-700/50 rounded-xl;
  }

  .glass-panel-solid {
    @apply bg-dark-800 border border-dark-700 rounded-xl;
  }

  .nav-item {
    @apply flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200
           text-dark-400 hover:text-dark-100 hover:bg-dark-700/50;
  }

  .nav-item.active {
    @apply text-primary-400 bg-primary-500/10 border-l-2 border-primary-500;
  }

  .btn {
    @apply px-4 py-2 rounded-lg font-medium transition-all duration-200
           flex items-center justify-center gap-2;
  }

  .btn-primary {
    @apply btn bg-primary-500 text-white hover:bg-primary-600
           shadow-lg shadow-primary-500/25;
  }

  .btn-secondary {
    @apply btn bg-dark-700 text-dark-100 hover:bg-dark-600
           border border-dark-600;
  }

  .btn-danger {
    @apply btn bg-red-500/10 text-red-400 hover:bg-red-500/20
           border border-red-500/30;
  }

  .btn-ghost {
    @apply btn text-dark-400 hover:text-dark-100 hover:bg-dark-700/50;
  }

  .input {
    @apply w-full px-4 py-2 bg-dark-800 border border-dark-600 rounded-lg
           text-dark-100 placeholder-dark-500
           focus:outline-none focus:border-primary-500 focus:ring-1 focus:ring-primary-500/50
           transition-all duration-200;
  }

  .card {
    @apply glass-panel-solid p-6;
  }

  .stat-card {
    @apply card flex flex-col gap-2;
  }

  .stat-value {
    @apply text-3xl font-bold text-dark-100;
  }

  .stat-label {
    @apply text-sm text-dark-400;
  }

  .badge {
    @apply inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium;
  }

  .badge-success {
    @apply badge bg-green-500/10 text-green-400;
  }

  .badge-warning {
    @apply badge bg-yellow-500/10 text-yellow-400;
  }

  .badge-danger {
    @apply badge bg-red-500/10 text-red-400;
  }

  .badge-info {
    @apply badge bg-primary-500/10 text-primary-400;
  }

  .table-row {
    @apply border-b border-dark-700/50 hover:bg-dark-700/30 transition-colors;
  }

  .tooltip {
    @apply absolute z-50 px-2 py-1 text-xs bg-dark-700 text-dark-100 rounded shadow-lg
           opacity-0 invisible group-hover:opacity-100 group-hover:visible
           transition-all duration-200 whitespace-nowrap;
  }
}

@layer utilities {
  .text-gradient {
    @apply bg-clip-text text-transparent bg-gradient-to-r from-primary-400 to-accent-cyan;
  }

  .glow-sm {
    box-shadow: 0 0 10px rgba(var(--accent-color-rgb, 14, 165, 233), 0.3);
  }

  .glow-md {
    box-shadow: 0 0 20px rgba(var(--accent-color-rgb, 14, 165, 233), 0.4);
  }

  .glow-lg {
    box-shadow: 0 0 30px rgba(var(--accent-color-rgb, 14, 165, 233), 0.5);
  }

  .animate-pulse-glow {
    animation: pulse-glow 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }

  @keyframes pulse-glow {
    0%, 100% {
      box-shadow: 0 0 10px rgba(var(--accent-color-rgb, 14, 165, 233), 0.3);
    }
    50% {
      box-shadow: 0 0 25px rgba(var(--accent-color-rgb, 14, 165, 233), 0.6);
    }
  }

  .scrollbar-thin {
    scrollbar-width: thin;
  }

  .drag-region {
    -webkit-app-region: drag;
    app-region: drag;
  }

  .no-drag {
    -webkit-app-region: no-drag;
    app-region: no-drag;
  }
}

/* Chart customizations */
.recharts-cartesian-grid-horizontal line,
.recharts-cartesian-grid-vertical line {
  stroke: rgb(51 65 85 / 0.5);
}

.recharts-tooltip-wrapper {
  outline: none;
}

/* Leaflet map customizations */
.leaflet-container {
  background: #0f172a;
}

.leaflet-tile-pane {
  filter: grayscale(1) invert(1);
  opacity: 0.4;
}

.leaflet-control-attribution {
  display: none;
}
